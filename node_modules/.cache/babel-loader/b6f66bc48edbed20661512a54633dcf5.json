{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { Behavior } from '../Model';\n\nvar RowReorderBehavior = function (_super) {\n  __extends(RowReorderBehavior, _super);\n\n  function RowReorderBehavior() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.autoScrollDirection = 'vertical';\n    return _this;\n  }\n\n  RowReorderBehavior.prototype.handlePointerDown = function (event, location, state) {\n    this.initialRowIdx = location.row.idx;\n    this.lastPossibleDropLocation = location;\n    var indexes = state.selectedIndexes.sort();\n    var rows = indexes.map(function (i) {\n      return state.cellMatrix.rows[i];\n    });\n    var upperIndexes = indexes.filter(function (i) {\n      return i < location.row.idx;\n    });\n    var upperRows = upperIndexes.map(function (i) {\n      return state.cellMatrix.rows[i];\n    });\n    var upperRowsHeight = upperRows.reduce(function (sum, row) {\n      return sum + row.height;\n    }, 0);\n    this.pointerOffset = upperRowsHeight + location.cellY;\n    this.selectedIds = rows.map(function (r) {\n      return r.rowId;\n    });\n    return __assign({}, state, {\n      lineOrientation: 'horizontal',\n      shadowSize: rows.reduce(function (sum, col) {\n        return sum + col.height;\n      }, 0),\n      shadowPosition: this.getShadowPosition(location, state)\n    });\n  };\n\n  RowReorderBehavior.prototype.handlePointerMove = function (event, location, state) {\n    var shadowPosition = this.getShadowPosition(location, state);\n    var shadowCursor = '-webkit-grabbing';\n    var linePosition = state.linePosition;\n    var pointerLocation = location.viewportY + state.viewportElement.scrollTop;\n    this.lastPossibleDropLocation = this.getLastPossibleDropLocation(state, location);\n\n    if (this.lastPossibleDropLocation && this.lastPossibleDropLocation.row.idx !== this.initialRowIdx) {\n      var drawDown = this.lastPossibleDropLocation.row.idx > this.initialRowIdx;\n      linePosition = Math.min(this.lastPossibleDropLocation.viewportY - this.lastPossibleDropLocation.cellY + (drawDown ? this.lastPossibleDropLocation.row.height : 0) + state.viewportElement.scrollTop, state.visibleRange.height + state.cellMatrix.frozenTopRange.height + state.cellMatrix.frozenBottomRange.height + state.viewportElement.scrollTop);\n\n      if (!state.props.canReorderRows) {\n        this.position = drawDown ? 'after' : 'before';\n      } else {\n        if (state.props.canReorderRows && state.props.canReorderRows(this.lastPossibleDropLocation.row.rowId, this.selectedIds, this.position)) {\n          if (drawDown) {\n            if (pointerLocation > location.row.top && pointerLocation < location.row.top + location.row.height / 2) {\n              this.position = 'on';\n              shadowCursor = 'move';\n              linePosition = -1;\n            } else {\n              this.position = 'after';\n            }\n          } else {\n            if (pointerLocation > location.row.top + location.row.height / 2 && pointerLocation < location.row.top + location.row.height) {\n              this.position = 'on';\n              shadowCursor = 'move';\n              linePosition = -1;\n            } else {\n              this.position = 'before';\n            }\n          }\n        } else {\n          linePosition = -1;\n        }\n      }\n    }\n\n    return __assign({}, state, {\n      shadowPosition: shadowPosition,\n      linePosition: linePosition,\n      shadowCursor: shadowCursor\n    });\n  };\n\n  RowReorderBehavior.prototype.getShadowPosition = function (location, state) {\n    var y = location.viewportY + state.viewportElement.scrollTop - this.pointerOffset;\n    var max = state.cellMatrix.height - state.shadowSize;\n\n    if (y < 0) {\n      return 0;\n    } else if (y > max) {\n      return max;\n    }\n\n    return y;\n  };\n\n  RowReorderBehavior.prototype.getLastPossibleDropLocation = function (state, currentLocation) {\n    if (!state.props.canReorderRows || state.props.canReorderRows(currentLocation.row.rowId, this.selectedIds, this.position)) {\n      return currentLocation;\n    }\n\n    return this.lastPossibleDropLocation;\n  };\n\n  RowReorderBehavior.prototype.handlePointerUp = function (event, location, state) {\n    if (location.row.idx !== this.initialRowIdx && this.lastPossibleDropLocation && state.props.onRowsReordered) {\n      state.props.onRowsReordered(this.lastPossibleDropLocation.row.rowId, this.selectedIds, this.position);\n    }\n\n    return __assign({}, state, {\n      linePosition: -1,\n      shadowPosition: -1,\n      shadowCursor: 'default'\n    });\n  };\n\n  return RowReorderBehavior;\n}(Behavior);\n\nexport { RowReorderBehavior };","map":{"version":3,"sources":["/Users/jacquelinegwynn/jacquelinegwynn-portfolio/node_modules/@silevis/reactgrid/dist/lib/Behaviors/RowReorderBehavior.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","Behavior","RowReorderBehavior","_super","_this","autoScrollDirection","handlePointerDown","event","location","state","initialRowIdx","row","idx","lastPossibleDropLocation","indexes","selectedIndexes","sort","rows","map","cellMatrix","upperIndexes","filter","upperRows","upperRowsHeight","reduce","sum","height","pointerOffset","cellY","selectedIds","r","rowId","lineOrientation","shadowSize","col","shadowPosition","getShadowPosition","handlePointerMove","shadowCursor","linePosition","pointerLocation","viewportY","viewportElement","scrollTop","getLastPossibleDropLocation","drawDown","Math","min","visibleRange","frozenTopRange","frozenBottomRange","props","canReorderRows","position","top","y","max","currentLocation","handlePointerUp","onRowsReordered"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { Behavior } from '../Model';\nvar RowReorderBehavior = (function (_super) {\n    __extends(RowReorderBehavior, _super);\n    function RowReorderBehavior() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.autoScrollDirection = 'vertical';\n        return _this;\n    }\n    RowReorderBehavior.prototype.handlePointerDown = function (event, location, state) {\n        this.initialRowIdx = location.row.idx;\n        this.lastPossibleDropLocation = location;\n        var indexes = state.selectedIndexes.sort();\n        var rows = indexes.map(function (i) { return state.cellMatrix.rows[i]; });\n        var upperIndexes = indexes.filter(function (i) { return i < location.row.idx; });\n        var upperRows = upperIndexes.map(function (i) { return state.cellMatrix.rows[i]; });\n        var upperRowsHeight = upperRows.reduce(function (sum, row) { return sum + row.height; }, 0);\n        this.pointerOffset = upperRowsHeight + location.cellY;\n        this.selectedIds = rows.map(function (r) { return r.rowId; });\n        return __assign({}, state, { lineOrientation: 'horizontal', shadowSize: rows.reduce(function (sum, col) { return sum + col.height; }, 0), shadowPosition: this.getShadowPosition(location, state) });\n    };\n    RowReorderBehavior.prototype.handlePointerMove = function (event, location, state) {\n        var shadowPosition = this.getShadowPosition(location, state);\n        var shadowCursor = '-webkit-grabbing';\n        var linePosition = state.linePosition;\n        var pointerLocation = location.viewportY + state.viewportElement.scrollTop;\n        this.lastPossibleDropLocation = this.getLastPossibleDropLocation(state, location);\n        if (this.lastPossibleDropLocation && this.lastPossibleDropLocation.row.idx !== this.initialRowIdx) {\n            var drawDown = this.lastPossibleDropLocation.row.idx > this.initialRowIdx;\n            linePosition = Math.min(this.lastPossibleDropLocation.viewportY - this.lastPossibleDropLocation.cellY + (drawDown ? this.lastPossibleDropLocation.row.height : 0) + state.viewportElement.scrollTop, state.visibleRange.height + state.cellMatrix.frozenTopRange.height + state.cellMatrix.frozenBottomRange.height + state.viewportElement.scrollTop);\n            if (!state.props.canReorderRows) {\n                this.position = drawDown ? 'after' : 'before';\n            }\n            else {\n                if (state.props.canReorderRows && state.props.canReorderRows(this.lastPossibleDropLocation.row.rowId, this.selectedIds, this.position)) {\n                    if (drawDown) {\n                        if (pointerLocation > location.row.top && pointerLocation < location.row.top + location.row.height / 2) {\n                            this.position = 'on';\n                            shadowCursor = 'move';\n                            linePosition = -1;\n                        }\n                        else {\n                            this.position = 'after';\n                        }\n                    }\n                    else {\n                        if (pointerLocation > location.row.top + location.row.height / 2 && pointerLocation < location.row.top + location.row.height) {\n                            this.position = 'on';\n                            shadowCursor = 'move';\n                            linePosition = -1;\n                        }\n                        else {\n                            this.position = 'before';\n                        }\n                    }\n                }\n                else {\n                    linePosition = -1;\n                }\n            }\n        }\n        return __assign({}, state, { shadowPosition: shadowPosition,\n            linePosition: linePosition,\n            shadowCursor: shadowCursor });\n    };\n    RowReorderBehavior.prototype.getShadowPosition = function (location, state) {\n        var y = location.viewportY + state.viewportElement.scrollTop - this.pointerOffset;\n        var max = state.cellMatrix.height - state.shadowSize;\n        if (y < 0) {\n            return 0;\n        }\n        else if (y > max) {\n            return max;\n        }\n        return y;\n    };\n    RowReorderBehavior.prototype.getLastPossibleDropLocation = function (state, currentLocation) {\n        if (!state.props.canReorderRows || state.props.canReorderRows(currentLocation.row.rowId, this.selectedIds, this.position)) {\n            return (currentLocation);\n        }\n        return this.lastPossibleDropLocation;\n    };\n    RowReorderBehavior.prototype.handlePointerUp = function (event, location, state) {\n        if (location.row.idx !== this.initialRowIdx && this.lastPossibleDropLocation &&\n            state.props.onRowsReordered) {\n            state.props.onRowsReordered(this.lastPossibleDropLocation.row.rowId, this.selectedIds, this.position);\n        }\n        return __assign({}, state, { linePosition: -1, shadowPosition: -1, shadowCursor: 'default' });\n    };\n    return RowReorderBehavior;\n}(Behavior));\nexport { RowReorderBehavior };\n"]},"metadata":{},"sourceType":"module"}