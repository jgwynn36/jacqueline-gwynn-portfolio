{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport * as React from 'react';\nimport { keyCodes } from '../Functions/keyCodes';\nimport { inNumericKey, isNavigationKey, isAlphaNumericKey } from './keyCodeCheckings';\nimport { getCellProperty } from '../Functions/getCellProperty';\nimport { getTimestamp, getFormattedTimeUnit } from './timeUtils';\n\nvar TimeCellTemplate = function () {\n  function TimeCellTemplate() {}\n\n  TimeCellTemplate.prototype.getCompatibleCell = function (uncertainCell) {\n    var time = uncertainCell.time ? getCellProperty(uncertainCell, 'time', 'object') : new Date(NaN);\n    var timeFormat = uncertainCell.format || new Intl.DateTimeFormat(window.navigator.language);\n    var value = time.getTime() % TimeCellTemplate.dayInMillis;\n    var text = !Number.isNaN(value) ? timeFormat.format(time) : '';\n    return __assign({}, uncertainCell, {\n      time: time,\n      value: value,\n      text: text\n    });\n  };\n\n  TimeCellTemplate.prototype.handleKeyDown = function (cell, keyCode, ctrl, shift, alt) {\n    if (!ctrl && !alt && isAlphaNumericKey(keyCode)) return {\n      cell: this.getCompatibleCell(__assign({}, cell)),\n      enableEditMode: true\n    };\n    return {\n      cell: cell,\n      enableEditMode: keyCode === keyCodes.POINTER || keyCode === keyCodes.ENTER\n    };\n  };\n\n  TimeCellTemplate.prototype.update = function (cell, cellToMerge) {\n    var timestamp = getTimestamp(cellToMerge.text);\n    if (cellToMerge.text !== '' && !Number.isNaN(timestamp)) return this.getCompatibleCell(__assign({}, cell, {\n      time: new Date(timestamp)\n    }));\n    return this.getCompatibleCell(__assign({}, cell, {\n      time: new Date(cellToMerge.value)\n    }));\n  };\n\n  TimeCellTemplate.prototype.getClassName = function (cell, isInEditMode) {\n    return cell.className ? cell.className : '';\n  };\n\n  TimeCellTemplate.prototype.render = function (cell, isInEditMode, onCellChanged) {\n    var _this = this;\n\n    if (!isInEditMode) return cell.text;\n    var hours = getFormattedTimeUnit(cell.time.getHours());\n    var minutes = getFormattedTimeUnit(cell.time.getMinutes());\n    return React.createElement(\"input\", {\n      ref: function (input) {\n        if (input) input.focus();\n      },\n      type: \"time\",\n      defaultValue: hours + \":\" + minutes,\n      onChange: function (e) {\n        var timestamp = getTimestamp(e.currentTarget.value);\n        if (!Number.isNaN(timestamp)) onCellChanged(_this.getCompatibleCell(__assign({}, cell, {\n          time: new Date(timestamp)\n        })), false);\n      },\n      onBlur: function (e) {\n        var timestamp = getTimestamp(e.currentTarget.value);\n        if (!Number.isNaN(timestamp)) onCellChanged(_this.getCompatibleCell(__assign({}, cell, {\n          time: new Date(timestamp)\n        })), true);\n      },\n      onKeyDown: function (e) {\n        if (inNumericKey(e.keyCode) || isNavigationKey(e.keyCode) || e.keyCode === keyCodes.COMMA || e.keyCode === keyCodes.PERIOD) e.stopPropagation();\n        if (!inNumericKey(e.keyCode) && !isNavigationKey(e.keyCode) && e.keyCode !== keyCodes.COMMA && e.keyCode !== keyCodes.PERIOD) e.preventDefault();\n      },\n      onCopy: function (e) {\n        return e.stopPropagation();\n      },\n      onCut: function (e) {\n        return e.stopPropagation();\n      },\n      onPaste: function (e) {\n        return e.stopPropagation();\n      },\n      onPointerDown: function (e) {\n        return e.stopPropagation();\n      }\n    });\n  };\n\n  TimeCellTemplate.dayInMillis = 86400000;\n  TimeCellTemplate.defaultDate = '01-01-1970';\n  return TimeCellTemplate;\n}();\n\nexport { TimeCellTemplate };","map":{"version":3,"sources":["/Users/jacquelinegwynn/jacquelinegwynn-portfolio/node_modules/@silevis/reactgrid/dist/lib/CellTemplates/TimeCellTemplate.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","React","keyCodes","inNumericKey","isNavigationKey","isAlphaNumericKey","getCellProperty","getTimestamp","getFormattedTimeUnit","TimeCellTemplate","getCompatibleCell","uncertainCell","time","Date","NaN","timeFormat","format","Intl","DateTimeFormat","window","navigator","language","value","getTime","dayInMillis","text","Number","isNaN","handleKeyDown","cell","keyCode","ctrl","shift","alt","enableEditMode","POINTER","ENTER","update","cellToMerge","timestamp","getClassName","isInEditMode","className","render","onCellChanged","_this","hours","getHours","minutes","getMinutes","createElement","ref","input","focus","type","defaultValue","onChange","e","currentTarget","onBlur","onKeyDown","COMMA","PERIOD","stopPropagation","preventDefault","onCopy","onCut","onPaste","onPointerDown","defaultDate"],"mappings":"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","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { keyCodes } from '../Functions/keyCodes';\nimport { inNumericKey, isNavigationKey, isAlphaNumericKey } from './keyCodeCheckings';\nimport { getCellProperty } from '../Functions/getCellProperty';\nimport { getTimestamp, getFormattedTimeUnit } from './timeUtils';\nvar TimeCellTemplate = (function () {\n    function TimeCellTemplate() {\n    }\n    TimeCellTemplate.prototype.getCompatibleCell = function (uncertainCell) {\n        var time = uncertainCell.time ? getCellProperty(uncertainCell, 'time', 'object') : new Date(NaN);\n        var timeFormat = uncertainCell.format || new Intl.DateTimeFormat(window.navigator.language);\n        var value = time.getTime() % TimeCellTemplate.dayInMillis;\n        var text = !Number.isNaN(value) ? timeFormat.format(time) : '';\n        return __assign({}, uncertainCell, { time: time, value: value, text: text });\n    };\n    TimeCellTemplate.prototype.handleKeyDown = function (cell, keyCode, ctrl, shift, alt) {\n        if (!ctrl && !alt && isAlphaNumericKey(keyCode))\n            return { cell: this.getCompatibleCell(__assign({}, cell)), enableEditMode: true };\n        return { cell: cell, enableEditMode: keyCode === keyCodes.POINTER || keyCode === keyCodes.ENTER };\n    };\n    TimeCellTemplate.prototype.update = function (cell, cellToMerge) {\n        var timestamp = getTimestamp(cellToMerge.text);\n        if (cellToMerge.text !== '' && !Number.isNaN(timestamp))\n            return this.getCompatibleCell(__assign({}, cell, { time: new Date(timestamp) }));\n        return this.getCompatibleCell(__assign({}, cell, { time: new Date(cellToMerge.value) }));\n    };\n    TimeCellTemplate.prototype.getClassName = function (cell, isInEditMode) {\n        return cell.className ? cell.className : '';\n    };\n    TimeCellTemplate.prototype.render = function (cell, isInEditMode, onCellChanged) {\n        var _this = this;\n        if (!isInEditMode)\n            return cell.text;\n        var hours = getFormattedTimeUnit(cell.time.getHours());\n        var minutes = getFormattedTimeUnit(cell.time.getMinutes());\n        return React.createElement(\"input\", { ref: function (input) {\n                if (input)\n                    input.focus();\n            }, type: \"time\", defaultValue: hours + \":\" + minutes, onChange: function (e) {\n                var timestamp = getTimestamp(e.currentTarget.value);\n                if (!Number.isNaN(timestamp))\n                    onCellChanged(_this.getCompatibleCell(__assign({}, cell, { time: new Date(timestamp) })), false);\n            }, onBlur: function (e) {\n                var timestamp = getTimestamp(e.currentTarget.value);\n                if (!Number.isNaN(timestamp))\n                    onCellChanged(_this.getCompatibleCell(__assign({}, cell, { time: new Date(timestamp) })), true);\n            }, onKeyDown: function (e) {\n                if (inNumericKey(e.keyCode) || isNavigationKey(e.keyCode) || (e.keyCode === keyCodes.COMMA || e.keyCode === keyCodes.PERIOD))\n                    e.stopPropagation();\n                if (!inNumericKey(e.keyCode) && !isNavigationKey(e.keyCode) && (e.keyCode !== keyCodes.COMMA && e.keyCode !== keyCodes.PERIOD))\n                    e.preventDefault();\n            }, onCopy: function (e) { return e.stopPropagation(); }, onCut: function (e) { return e.stopPropagation(); }, onPaste: function (e) { return e.stopPropagation(); }, onPointerDown: function (e) { return e.stopPropagation(); } });\n    };\n    TimeCellTemplate.dayInMillis = 86400000;\n    TimeCellTemplate.defaultDate = '01-01-1970';\n    return TimeCellTemplate;\n}());\nexport { TimeCellTemplate };\n"]},"metadata":{},"sourceType":"module"}