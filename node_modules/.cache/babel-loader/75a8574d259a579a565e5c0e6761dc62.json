{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { Behavior } from \"../Model\";\nimport { handleKeyDown } from \"../Functions/handleKeyDown\";\nimport { CellSelectionBehavior } from \"./CellSelectionBehavior\";\nimport { ColumnSelectionBehavior } from \"./ColumnSelectionBehavior\";\nimport { ColumnReorderBehavior } from \"./ColumnReorderBehavior\";\nimport { RowSelectionBehavior } from \"./RowSelectionBehavior\";\nimport { RowReorderBehavior } from \"./RowReorderBehavior\";\nimport { getActiveSelectedRange } from \"../Functions/getActiveSelectedRange\";\nimport { keyCodes, tryAppendChange, emptyCell } from \"../Functions\";\nimport { FillHandleBehavior } from \"./FillHandleBehavior\";\nimport { getLocationFromClient, focusLocation } from \"../Functions\";\nimport { ResizeColumnBehavior } from \"./ResizeColumnBehavior\";\nimport { getCompatibleCellAndTemplate } from '../Functions/getCompatibleCellAndTemplate';\nimport { areLocationsEqual } from '../Functions/areLocationsEqual';\nimport { isSelectionKey } from '../Functions/isSelectionKey';\n\nvar DefaultBehavior = function (_super) {\n  __extends(DefaultBehavior, _super);\n\n  function DefaultBehavior() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  DefaultBehavior.prototype.handlePointerDown = function (event, location, state) {\n    state = __assign({}, state, {\n      currentBehavior: this.getNewBehavior(event, location, state),\n      contextMenuPosition: {\n        top: -1,\n        left: -1\n      }\n    });\n    return state.currentBehavior.handlePointerDown(event, location, state);\n  };\n\n  DefaultBehavior.prototype.getNewBehavior = function (event, location, state) {\n    if (event.pointerType === 'mouse' && location.row.idx == 0 && location.cellX > location.column.width - 7 && location.column.resizable) {\n      return new ResizeColumnBehavior();\n    } else if (state.enableColumnSelection && location.row.idx == 0 && state.selectedIds.includes(location.column.columnId) && !isSelectionKey(event) && state.selectionMode == 'column' && location.column.reorderable) {\n      return new ColumnReorderBehavior();\n    } else if (state.enableColumnSelection && location.row.idx == 0 && event.target.className !== 'rg-fill-handle' && event.target.className !== 'rg-touch-fill-handle') {\n      return new ColumnSelectionBehavior();\n    } else if (state.enableRowSelection && location.column.idx == 0 && state.selectedIds.includes(location.row.rowId) && !isSelectionKey(event) && state.selectionMode == 'row' && location.row.reorderable) {\n      return new RowReorderBehavior();\n    } else if (state.enableRowSelection && location.column.idx == 0 && event.target.className !== 'rg-fill-handle' && event.target.className !== 'rg-touch-fill-handle') {\n      return new RowSelectionBehavior();\n    } else if ((event.pointerType === 'mouse' || event.pointerType === undefined) && event.target.className === 'rg-fill-handle' && !state.disableFillHandle) {\n      return new FillHandleBehavior();\n    } else {\n      return new CellSelectionBehavior();\n    }\n  };\n\n  DefaultBehavior.prototype.handleContextMenu = function (event, state) {\n    event.preventDefault();\n    var clickX = event.clientX;\n    var clickY = event.clientY;\n    var top = window.innerHeight - clickY > 25;\n    var right = window.innerWidth - clickX > 120;\n    var bottom = !top;\n    var left = !right;\n    var contextMenuPosition = state.contextMenuPosition;\n\n    if (top) {\n      contextMenuPosition.top = clickY;\n    }\n\n    if (right) {\n      contextMenuPosition.left = clickX + 5;\n    }\n\n    if (bottom) {\n      contextMenuPosition.top = clickY - 25 - 5;\n    }\n\n    if (left) {\n      contextMenuPosition.left = clickX - 120 - 5;\n    }\n\n    var focusedLocation = getLocationFromClient(state, clickX, clickY);\n\n    if (!state.selectedRanges.find(function (range) {\n      return range.contains(focusedLocation);\n    })) {\n      state = focusLocation(state, focusedLocation);\n    }\n\n    return __assign({}, state, {\n      contextMenuPosition: contextMenuPosition\n    });\n  };\n\n  DefaultBehavior.prototype.handleDoubleClick = function (event, location, state) {\n    if (areLocationsEqual(location, state.focusedLocation)) {\n      var _a = getCompatibleCellAndTemplate(state, location),\n          cell = _a.cell,\n          cellTemplate = _a.cellTemplate;\n\n      if (cellTemplate.handleKeyDown) {\n        var _b = cellTemplate.handleKeyDown(cell, 1, isSelectionKey(event), event.shiftKey, event.altKey),\n            newCell = _b.cell,\n            enableEditMode = _b.enableEditMode;\n\n        if (enableEditMode) {\n          return __assign({}, state, {\n            currentlyEditedCell: newCell\n          });\n        }\n      }\n    }\n\n    return state;\n  };\n\n  DefaultBehavior.prototype.handleKeyDown = function (event, state) {\n    return handleKeyDown(state, event);\n  };\n\n  DefaultBehavior.prototype.handleKeyUp = function (event, state) {\n    if (event.keyCode === keyCodes.TAB || event.keyCode === keyCodes.ENTER) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n\n    return state;\n  };\n\n  DefaultBehavior.prototype.handleCopy = function (event, state) {\n    copySelectedRangeToClipboard(state);\n    event.preventDefault();\n    return state;\n  };\n\n  DefaultBehavior.prototype.handlePaste = function (event, state) {\n    var activeSelectedRange = getActiveSelectedRange(state);\n\n    if (!activeSelectedRange) {\n      return state;\n    }\n\n    var pastedRows = [];\n    var htmlData = event.clipboardData.getData('text/html');\n    var document = new DOMParser().parseFromString(htmlData, 'text/html');\n\n    if (htmlData && document.body.firstElementChild.getAttribute('data-reactgrid') === 'reactgrid') {\n      var tableRows = document.body.firstElementChild.firstElementChild.children;\n\n      for (var ri = 0; ri < tableRows.length; ri++) {\n        var row = [];\n\n        for (var ci = 0; ci < tableRows[ri].children.length; ci++) {\n          var rawData = tableRows[ri].children[ci].getAttribute('data-reactgrid');\n          var data = rawData && JSON.parse(rawData);\n          row.push(data ? data : {\n            type: 'text',\n            text: tableRows[ri].children[ci].innerHTML\n          });\n        }\n\n        pastedRows.push(row);\n      }\n    } else {\n      pastedRows = event.clipboardData.getData('text/plain').split('\\n').map(function (line) {\n        return line.split('\\t').map(function (t) {\n          return {\n            type: 'text',\n            text: t,\n            value: parseFloat(t)\n          };\n        });\n      });\n    }\n\n    event.preventDefault();\n    return __assign({}, pasteData(state, pastedRows), {\n      selectionMode: state.selectionMode || 'range'\n    });\n  };\n\n  DefaultBehavior.prototype.handleCut = function (event, state) {\n    copySelectedRangeToClipboard(state, true);\n    event.preventDefault();\n    return __assign({}, state);\n  };\n\n  return DefaultBehavior;\n}(Behavior);\n\nexport { DefaultBehavior };\nexport function pasteData(state, rows) {\n  var activeSelectedRange = getActiveSelectedRange(state);\n\n  if (rows.length === 1 && rows[0].length === 1) {\n    activeSelectedRange.rows.forEach(function (row) {\n      return activeSelectedRange.columns.forEach(function (column) {\n        state = tryAppendChange(state, {\n          row: row,\n          column: column\n        }, rows[0][0]);\n      });\n    });\n  } else {\n    var lastLocation_1;\n    var cellMatrix_1 = state.cellMatrix;\n    rows.forEach(function (row, ri) {\n      return row.forEach(function (cell, ci) {\n        var rowIdx = activeSelectedRange.first.row.idx + ri;\n        var columnIdx = activeSelectedRange.first.column.idx + ci;\n\n        if (rowIdx <= cellMatrix_1.last.row.idx && columnIdx <= cellMatrix_1.last.column.idx) {\n          lastLocation_1 = cellMatrix_1.getLocation(rowIdx, columnIdx);\n          state = tryAppendChange(state, lastLocation_1, cell);\n        }\n      });\n    });\n    return __assign({}, state, {\n      selectedRanges: [cellMatrix_1.getRange(activeSelectedRange.first, lastLocation_1)],\n      activeSelectedRangeIdx: 0\n    });\n  }\n\n  return state;\n}\nexport function copySelectedRangeToClipboard(state, removeValues) {\n  if (removeValues === void 0) {\n    removeValues = false;\n  }\n\n  var activeSelectedRange = getActiveSelectedRange(state);\n  if (!activeSelectedRange) return;\n  var div = document.createElement('div');\n  var table = document.createElement('table');\n  table.setAttribute('empty-cells', 'show');\n  table.setAttribute('data-reactgrid', 'reactgrid');\n  activeSelectedRange.rows.forEach(function (row) {\n    var tableRow = table.insertRow();\n    activeSelectedRange.columns.forEach(function (column) {\n      var tableCell = tableRow.insertCell();\n      var cell = getCompatibleCellAndTemplate(state, {\n        row: row,\n        column: column\n      }).cell;\n      tableCell.textContent = cell.text;\n      tableCell.setAttribute('data-reactgrid', JSON.stringify(cell));\n      tableCell.style.border = '1px solid #D3D3D3';\n\n      if (removeValues) {\n        state = tryAppendChange(state, {\n          row: row,\n          column: column\n        }, emptyCell);\n      }\n    });\n  });\n  div.setAttribute('contenteditable', 'true');\n  div.appendChild(table);\n  document.body.appendChild(div);\n  div.focus();\n  document.execCommand('selectAll', false, undefined);\n  document.execCommand('copy');\n  document.body.removeChild(div);\n  state.hiddenFocusElement.focus();\n}\nexport function copySelectedRangeToClipboardInIE(state, removeValues) {\n  if (removeValues === void 0) {\n    removeValues = false;\n  }\n\n  var text = '';\n  var prevId = \"\";\n  var activeSelectedRange = getActiveSelectedRange(state);\n  if (!activeSelectedRange) return;\n  var div = document.createElement('div');\n  var table = document.createElement('table');\n  table.setAttribute('empty-cells', 'show');\n  table.setAttribute('data-reactgrid', 'reactgrid');\n  activeSelectedRange.rows.forEach(function (row) {\n    var tableRow = table.insertRow();\n    activeSelectedRange.columns.forEach(function (column) {\n      var tableCell = tableRow.insertCell();\n      var cell = getCompatibleCellAndTemplate(state, {\n        row: row,\n        column: column\n      }).cell;\n      tableCell.textContent = cell.text;\n      text = prevId === \"\" ? cell.text : text + (prevId === row.rowId ? '\\t' : '\\n') + cell.text;\n      prevId = row.rowId;\n      tableCell.setAttribute('data-reactgrid', JSON.stringify(cell));\n      tableCell.style.border = '1px solid #D3D3D3';\n\n      if (removeValues) {\n        state = tryAppendChange(state, {\n          row: row,\n          column: column\n        }, emptyCell);\n      }\n    });\n  });\n  div.setAttribute('contenteditable', 'true');\n  div.appendChild(table);\n  document.body.appendChild(div);\n  div.focus();\n  window.clipboardData.setData('text', text);\n  document.body.removeChild(div);\n  state.hiddenFocusElement.focus();\n}","map":{"version":3,"sources":["/Users/jacquelinegwynn/jacquelinegwynn-portfolio/node_modules/@silevis/reactgrid/dist/lib/Behaviors/DefaultBehavior.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","Behavior","handleKeyDown","CellSelectionBehavior","ColumnSelectionBehavior","ColumnReorderBehavior","RowSelectionBehavior","RowReorderBehavior","getActiveSelectedRange","keyCodes","tryAppendChange","emptyCell","FillHandleBehavior","getLocationFromClient","focusLocation","ResizeColumnBehavior","getCompatibleCellAndTemplate","areLocationsEqual","isSelectionKey","DefaultBehavior","_super","handlePointerDown","event","location","state","currentBehavior","getNewBehavior","contextMenuPosition","top","left","pointerType","row","idx","cellX","column","width","resizable","enableColumnSelection","selectedIds","includes","columnId","selectionMode","reorderable","target","className","enableRowSelection","rowId","undefined","disableFillHandle","handleContextMenu","preventDefault","clickX","clientX","clickY","clientY","window","innerHeight","right","innerWidth","bottom","focusedLocation","selectedRanges","find","range","contains","handleDoubleClick","_a","cell","cellTemplate","_b","shiftKey","altKey","newCell","enableEditMode","currentlyEditedCell","handleKeyUp","keyCode","TAB","ENTER","stopPropagation","handleCopy","copySelectedRangeToClipboard","handlePaste","activeSelectedRange","pastedRows","htmlData","clipboardData","getData","document","DOMParser","parseFromString","body","firstElementChild","getAttribute","tableRows","children","ri","ci","rawData","data","JSON","parse","push","type","text","innerHTML","split","map","line","value","parseFloat","pasteData","handleCut","rows","forEach","columns","lastLocation_1","cellMatrix_1","cellMatrix","rowIdx","first","columnIdx","last","getLocation","getRange","activeSelectedRangeIdx","removeValues","div","createElement","table","setAttribute","tableRow","insertRow","tableCell","insertCell","textContent","stringify","style","border","appendChild","focus","execCommand","removeChild","hiddenFocusElement","copySelectedRangeToClipboardInIE","prevId","setData"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { Behavior } from \"../Model\";\nimport { handleKeyDown } from \"../Functions/handleKeyDown\";\nimport { CellSelectionBehavior } from \"./CellSelectionBehavior\";\nimport { ColumnSelectionBehavior } from \"./ColumnSelectionBehavior\";\nimport { ColumnReorderBehavior } from \"./ColumnReorderBehavior\";\nimport { RowSelectionBehavior } from \"./RowSelectionBehavior\";\nimport { RowReorderBehavior } from \"./RowReorderBehavior\";\nimport { getActiveSelectedRange } from \"../Functions/getActiveSelectedRange\";\nimport { keyCodes, tryAppendChange, emptyCell } from \"../Functions\";\nimport { FillHandleBehavior } from \"./FillHandleBehavior\";\nimport { getLocationFromClient, focusLocation } from \"../Functions\";\nimport { ResizeColumnBehavior } from \"./ResizeColumnBehavior\";\nimport { getCompatibleCellAndTemplate } from '../Functions/getCompatibleCellAndTemplate';\nimport { areLocationsEqual } from '../Functions/areLocationsEqual';\nimport { isSelectionKey } from '../Functions/isSelectionKey';\nvar DefaultBehavior = (function (_super) {\n    __extends(DefaultBehavior, _super);\n    function DefaultBehavior() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DefaultBehavior.prototype.handlePointerDown = function (event, location, state) {\n        state = __assign({}, state, { currentBehavior: this.getNewBehavior(event, location, state), contextMenuPosition: { top: -1, left: -1 } });\n        return state.currentBehavior.handlePointerDown(event, location, state);\n    };\n    DefaultBehavior.prototype.getNewBehavior = function (event, location, state) {\n        if (event.pointerType === 'mouse' && location.row.idx == 0 && location.cellX > location.column.width - 7 && location.column.resizable) {\n            return new ResizeColumnBehavior();\n        }\n        else if (state.enableColumnSelection && location.row.idx == 0 && state.selectedIds.includes(location.column.columnId) && !isSelectionKey(event) && state.selectionMode == 'column' && location.column.reorderable) {\n            return new ColumnReorderBehavior();\n        }\n        else if (state.enableColumnSelection && location.row.idx == 0 && (event.target.className !== 'rg-fill-handle' && event.target.className !== 'rg-touch-fill-handle')) {\n            return new ColumnSelectionBehavior();\n        }\n        else if (state.enableRowSelection && location.column.idx == 0 && state.selectedIds.includes(location.row.rowId) && !isSelectionKey(event) && state.selectionMode == 'row' && location.row.reorderable) {\n            return new RowReorderBehavior();\n        }\n        else if (state.enableRowSelection && location.column.idx == 0 && (event.target.className !== 'rg-fill-handle' && event.target.className !== 'rg-touch-fill-handle')) {\n            return new RowSelectionBehavior();\n        }\n        else if ((event.pointerType === 'mouse' || event.pointerType === undefined) && event.target.className === 'rg-fill-handle' && !state.disableFillHandle) {\n            return new FillHandleBehavior();\n        }\n        else {\n            return new CellSelectionBehavior();\n        }\n    };\n    DefaultBehavior.prototype.handleContextMenu = function (event, state) {\n        event.preventDefault();\n        var clickX = event.clientX;\n        var clickY = event.clientY;\n        var top = window.innerHeight - clickY > 25;\n        var right = window.innerWidth - clickX > 120;\n        var bottom = !top;\n        var left = !right;\n        var contextMenuPosition = state.contextMenuPosition;\n        if (top) {\n            contextMenuPosition.top = clickY;\n        }\n        if (right) {\n            contextMenuPosition.left = clickX + 5;\n        }\n        if (bottom) {\n            contextMenuPosition.top = clickY - 25 - 5;\n        }\n        if (left) {\n            contextMenuPosition.left = clickX - 120 - 5;\n        }\n        var focusedLocation = getLocationFromClient(state, clickX, clickY);\n        if (!state.selectedRanges.find(function (range) { return range.contains(focusedLocation); })) {\n            state = focusLocation(state, focusedLocation);\n        }\n        return __assign({}, state, { contextMenuPosition: contextMenuPosition });\n    };\n    DefaultBehavior.prototype.handleDoubleClick = function (event, location, state) {\n        if (areLocationsEqual(location, state.focusedLocation)) {\n            var _a = getCompatibleCellAndTemplate(state, location), cell = _a.cell, cellTemplate = _a.cellTemplate;\n            if (cellTemplate.handleKeyDown) {\n                var _b = cellTemplate.handleKeyDown(cell, 1, isSelectionKey(event), event.shiftKey, event.altKey), newCell = _b.cell, enableEditMode = _b.enableEditMode;\n                if (enableEditMode) {\n                    return __assign({}, state, { currentlyEditedCell: newCell });\n                }\n            }\n        }\n        return state;\n    };\n    DefaultBehavior.prototype.handleKeyDown = function (event, state) {\n        return handleKeyDown(state, event);\n    };\n    DefaultBehavior.prototype.handleKeyUp = function (event, state) {\n        if (event.keyCode === keyCodes.TAB || event.keyCode === keyCodes.ENTER) {\n            event.preventDefault();\n            event.stopPropagation();\n        }\n        return state;\n    };\n    DefaultBehavior.prototype.handleCopy = function (event, state) {\n        copySelectedRangeToClipboard(state);\n        event.preventDefault();\n        return state;\n    };\n    DefaultBehavior.prototype.handlePaste = function (event, state) {\n        var activeSelectedRange = getActiveSelectedRange(state);\n        if (!activeSelectedRange) {\n            return state;\n        }\n        var pastedRows = [];\n        var htmlData = event.clipboardData.getData('text/html');\n        var document = new DOMParser().parseFromString(htmlData, 'text/html');\n        if (htmlData && document.body.firstElementChild.getAttribute('data-reactgrid') === 'reactgrid') {\n            var tableRows = document.body.firstElementChild.firstElementChild.children;\n            for (var ri = 0; ri < tableRows.length; ri++) {\n                var row = [];\n                for (var ci = 0; ci < tableRows[ri].children.length; ci++) {\n                    var rawData = tableRows[ri].children[ci].getAttribute('data-reactgrid');\n                    var data = rawData && JSON.parse(rawData);\n                    row.push(data ? data : { type: 'text', text: tableRows[ri].children[ci].innerHTML });\n                }\n                pastedRows.push(row);\n            }\n        }\n        else {\n            pastedRows = event.clipboardData.getData('text/plain').split('\\n').map(function (line) { return line.split('\\t').map(function (t) { return ({ type: 'text', text: t, value: parseFloat(t) }); }); });\n        }\n        event.preventDefault();\n        return __assign({}, pasteData(state, pastedRows), { selectionMode: state.selectionMode || 'range' });\n    };\n    DefaultBehavior.prototype.handleCut = function (event, state) {\n        copySelectedRangeToClipboard(state, true);\n        event.preventDefault();\n        return __assign({}, state);\n    };\n    return DefaultBehavior;\n}(Behavior));\nexport { DefaultBehavior };\nexport function pasteData(state, rows) {\n    var activeSelectedRange = getActiveSelectedRange(state);\n    if (rows.length === 1 && rows[0].length === 1) {\n        activeSelectedRange.rows.forEach(function (row) {\n            return activeSelectedRange.columns.forEach(function (column) {\n                state = tryAppendChange(state, { row: row, column: column }, rows[0][0]);\n            });\n        });\n    }\n    else {\n        var lastLocation_1;\n        var cellMatrix_1 = state.cellMatrix;\n        rows.forEach(function (row, ri) {\n            return row.forEach(function (cell, ci) {\n                var rowIdx = activeSelectedRange.first.row.idx + ri;\n                var columnIdx = activeSelectedRange.first.column.idx + ci;\n                if (rowIdx <= cellMatrix_1.last.row.idx && columnIdx <= cellMatrix_1.last.column.idx) {\n                    lastLocation_1 = cellMatrix_1.getLocation(rowIdx, columnIdx);\n                    state = tryAppendChange(state, lastLocation_1, cell);\n                }\n            });\n        });\n        return __assign({}, state, { selectedRanges: [cellMatrix_1.getRange(activeSelectedRange.first, lastLocation_1)], activeSelectedRangeIdx: 0 });\n    }\n    return state;\n}\nexport function copySelectedRangeToClipboard(state, removeValues) {\n    if (removeValues === void 0) { removeValues = false; }\n    var activeSelectedRange = getActiveSelectedRange(state);\n    if (!activeSelectedRange)\n        return;\n    var div = document.createElement('div');\n    var table = document.createElement('table');\n    table.setAttribute('empty-cells', 'show');\n    table.setAttribute('data-reactgrid', 'reactgrid');\n    activeSelectedRange.rows.forEach(function (row) {\n        var tableRow = table.insertRow();\n        activeSelectedRange.columns.forEach(function (column) {\n            var tableCell = tableRow.insertCell();\n            var cell = getCompatibleCellAndTemplate(state, { row: row, column: column }).cell;\n            tableCell.textContent = cell.text;\n            tableCell.setAttribute('data-reactgrid', JSON.stringify(cell));\n            tableCell.style.border = '1px solid #D3D3D3';\n            if (removeValues) {\n                state = tryAppendChange(state, { row: row, column: column }, emptyCell);\n            }\n        });\n    });\n    div.setAttribute('contenteditable', 'true');\n    div.appendChild(table);\n    document.body.appendChild(div);\n    div.focus();\n    document.execCommand('selectAll', false, undefined);\n    document.execCommand('copy');\n    document.body.removeChild(div);\n    state.hiddenFocusElement.focus();\n}\nexport function copySelectedRangeToClipboardInIE(state, removeValues) {\n    if (removeValues === void 0) { removeValues = false; }\n    var text = '';\n    var prevId = \"\";\n    var activeSelectedRange = getActiveSelectedRange(state);\n    if (!activeSelectedRange)\n        return;\n    var div = document.createElement('div');\n    var table = document.createElement('table');\n    table.setAttribute('empty-cells', 'show');\n    table.setAttribute('data-reactgrid', 'reactgrid');\n    activeSelectedRange.rows.forEach(function (row) {\n        var tableRow = table.insertRow();\n        activeSelectedRange.columns.forEach(function (column) {\n            var tableCell = tableRow.insertCell();\n            var cell = getCompatibleCellAndTemplate(state, { row: row, column: column }).cell;\n            tableCell.textContent = cell.text;\n            text = prevId === \"\" ? cell.text : text + (prevId === row.rowId ? '\\t' : '\\n') + cell.text;\n            prevId = row.rowId;\n            tableCell.setAttribute('data-reactgrid', JSON.stringify(cell));\n            tableCell.style.border = '1px solid #D3D3D3';\n            if (removeValues) {\n                state = tryAppendChange(state, { row: row, column: column }, emptyCell);\n            }\n        });\n    });\n    div.setAttribute('contenteditable', 'true');\n    div.appendChild(table);\n    document.body.appendChild(div);\n    div.focus();\n    window.clipboardData.setData('text', text);\n    document.body.removeChild(div);\n    state.hiddenFocusElement.focus();\n}\n"]},"metadata":{},"sourceType":"module"}