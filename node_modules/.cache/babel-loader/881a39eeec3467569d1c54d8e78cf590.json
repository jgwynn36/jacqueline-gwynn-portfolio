{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport * as React from 'react';\nimport { Behavior } from '../Model';\nimport { getActiveSelectedRange } from '../Functions/getActiveSelectedRange';\nimport { tryAppendChange } from '../Functions';\nimport { getCompatibleCellAndTemplate } from '../Functions/getCompatibleCellAndTemplate';\nimport { newLocation } from '../Functions/newLocation';\nimport { PartialArea } from '../Components/PartialArea';\n\nvar FillHandleBehavior = function (_super) {\n  __extends(FillHandleBehavior, _super);\n\n  function FillHandleBehavior() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.fillDirection = '';\n    return _this;\n  }\n\n  FillHandleBehavior.prototype.handlePointerEnter = function (event, location, state) {\n    var selectedRange = getActiveSelectedRange(state);\n    this.fillDirection = this.getFillDirection(selectedRange, location);\n    this.fillRange = this.getFillRange(state.cellMatrix, selectedRange, location, this.fillDirection);\n    return __assign({}, state);\n  };\n\n  FillHandleBehavior.prototype.getFillDirection = function (selectedRange, pointerLocation) {\n    var differences = [];\n    differences.push({\n      direction: '',\n      value: 0\n    });\n    differences.push({\n      direction: 'up',\n      value: pointerLocation.row.idx < selectedRange.first.row.idx ? selectedRange.first.row.idx - pointerLocation.row.idx : 0\n    });\n    differences.push({\n      direction: 'down',\n      value: pointerLocation.row.idx > selectedRange.last.row.idx ? pointerLocation.row.idx - selectedRange.last.row.idx : 0\n    });\n    differences.push({\n      direction: 'left',\n      value: pointerLocation.column.idx < selectedRange.first.column.idx ? selectedRange.first.column.idx - pointerLocation.column.idx : 0\n    });\n    differences.push({\n      direction: 'right',\n      value: pointerLocation.column.idx > selectedRange.last.column.idx ? pointerLocation.column.idx - selectedRange.last.column.idx : 0\n    });\n    return differences.reduce(function (prev, current) {\n      return prev.value >= current.value ? prev : current;\n    }).direction;\n  };\n\n  FillHandleBehavior.prototype.getFillRange = function (cellMatrix, selectedRange, location, fillDirection) {\n    switch (fillDirection) {\n      case 'right':\n        return cellMatrix.getRange(cellMatrix.getLocation(selectedRange.first.row.idx, cellMatrix.last.column.idx < selectedRange.last.column.idx + 1 ? cellMatrix.last.column.idx : selectedRange.last.column.idx + 1), newLocation(selectedRange.last.row, location.column));\n\n      case 'left':\n        return cellMatrix.getRange(newLocation(selectedRange.first.row, location.column), cellMatrix.getLocation(selectedRange.last.row.idx, cellMatrix.first.column.idx > selectedRange.first.column.idx - 1 ? cellMatrix.first.column.idx : selectedRange.first.column.idx - 1));\n\n      case 'up':\n        return cellMatrix.getRange(newLocation(location.row, selectedRange.first.column), cellMatrix.getLocation(cellMatrix.first.row.idx > selectedRange.first.row.idx - 1 ? cellMatrix.first.row.idx : selectedRange.first.row.idx - 1, selectedRange.last.column.idx));\n\n      case 'down':\n        return cellMatrix.getRange(cellMatrix.getLocation(cellMatrix.last.row.idx < selectedRange.last.row.idx + 1 ? cellMatrix.last.row.idx : selectedRange.last.row.idx + 1, selectedRange.first.column.idx), newLocation(location.row, selectedRange.last.column));\n    }\n\n    return undefined;\n  };\n\n  FillHandleBehavior.prototype.handlePointerUp = function (event, location, state) {\n    var activeSelectedRange = getActiveSelectedRange(state);\n    var cellMatrix = state.cellMatrix;\n    var values;\n\n    if (!activeSelectedRange || this.fillRange === undefined) {\n      return state;\n    }\n\n    this.fillRange = state.cellMatrix.validateRange(this.fillRange);\n\n    var getCompatibleCell = function (location) {\n      return getCompatibleCellAndTemplate(state, location).cell;\n    };\n\n    switch (this.fillDirection) {\n      case 'right':\n        values = activeSelectedRange.rows.map(function (row) {\n          return getCompatibleCell(newLocation(row, activeSelectedRange.last.column));\n        });\n        state = this.fillRows(state, values);\n        state = __assign({}, state, {\n          selectedRanges: [cellMatrix.getRange(activeSelectedRange.first, newLocation(activeSelectedRange.last.row, location.column))],\n          selectedIds: activeSelectedRange.columns.map(function (col) {\n            return col.columnId;\n          }).concat(this.fillRange.columns.map(function (col) {\n            return col.columnId;\n          }))\n        });\n        break;\n\n      case 'left':\n        values = activeSelectedRange.rows.map(function (row) {\n          return getCompatibleCell(newLocation(row, activeSelectedRange.last.column));\n        });\n        state = this.fillRows(state, values);\n        state = __assign({}, state, {\n          selectedRanges: [cellMatrix.getRange(activeSelectedRange.last, newLocation(activeSelectedRange.first.row, location.column))],\n          selectedIds: activeSelectedRange.columns.map(function (col) {\n            return col.columnId;\n          }).concat(this.fillRange.columns.map(function (col) {\n            return col.columnId;\n          }))\n        });\n        break;\n\n      case 'up':\n        values = activeSelectedRange.columns.map(function (column) {\n          return getCompatibleCell(newLocation(activeSelectedRange.last.row, column));\n        });\n        state = this.fillColumns(state, values);\n        state = __assign({}, state, {\n          selectedRanges: [cellMatrix.getRange(activeSelectedRange.last, {\n            row: location.row,\n            column: activeSelectedRange.first.column\n          })],\n          selectedIds: activeSelectedRange.rows.map(function (row) {\n            return row.rowId;\n          }).concat(this.fillRange.rows.map(function (row) {\n            return row.rowId;\n          }))\n        });\n        break;\n\n      case 'down':\n        values = activeSelectedRange.columns.map(function (column) {\n          return getCompatibleCell(newLocation(activeSelectedRange.last.row, column));\n        });\n        state = this.fillColumns(state, values);\n        state = __assign({}, state, {\n          selectedRanges: [cellMatrix.getRange(activeSelectedRange.first, newLocation(location.row, activeSelectedRange.last.column))],\n          selectedIds: activeSelectedRange.rows.map(function (row) {\n            return row.rowId;\n          }).concat(this.fillRange.rows.map(function (row) {\n            return row.rowId;\n          }))\n        });\n        break;\n    }\n\n    return state;\n  };\n\n  FillHandleBehavior.prototype.fillRows = function (state, values) {\n    var _this = this;\n\n    this.fillRange && this.fillRange.rows.forEach(function (row, i) {\n      return _this.fillRange.columns.forEach(function (col) {\n        state = tryAppendChange(state, newLocation(row, col), values[i]);\n      });\n    });\n    return state;\n  };\n\n  FillHandleBehavior.prototype.fillColumns = function (state, values) {\n    var _this = this;\n\n    this.fillRange && this.fillRange.rows.forEach(function (row) {\n      return _this.fillRange.columns.forEach(function (col, i) {\n        state = tryAppendChange(state, newLocation(row, col), values[i]);\n      });\n    });\n    return state;\n  };\n\n  FillHandleBehavior.prototype.renderPanePart = function (state, pane) {\n    return this.fillDirection && this.fillRange && pane.intersectsWith(this.fillRange) && React.createElement(PartialArea, {\n      range: state.cellMatrix.validateRange(this.fillRange),\n      class: \"rg-partial-area-part\",\n      pane: pane,\n      style: {\n        backgroundColor: '',\n        borderTop: this.fillDirection === 'down' ? '0px solid transparent' : '',\n        borderBottom: this.fillDirection === 'up' ? '0px solid transparent' : '',\n        borderLeft: this.fillDirection === 'right' ? '0px solid transparent' : '',\n        borderRight: this.fillDirection === 'left' ? '0px solid transparent' : ''\n      }\n    });\n  };\n\n  return FillHandleBehavior;\n}(Behavior);\n\nexport { FillHandleBehavior };","map":{"version":3,"sources":["/Users/jacquelinegwynn/jacquelinegwynn-portfolio/node_modules/@silevis/reactgrid/dist/lib/Behaviors/FillHandleBehavior.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","React","Behavior","getActiveSelectedRange","tryAppendChange","getCompatibleCellAndTemplate","newLocation","PartialArea","FillHandleBehavior","_super","_this","fillDirection","handlePointerEnter","event","location","state","selectedRange","getFillDirection","fillRange","getFillRange","cellMatrix","pointerLocation","differences","push","direction","value","row","idx","first","last","column","reduce","prev","current","getRange","getLocation","undefined","handlePointerUp","activeSelectedRange","values","validateRange","getCompatibleCell","cell","rows","map","fillRows","selectedRanges","selectedIds","columns","col","columnId","concat","fillColumns","rowId","forEach","renderPanePart","pane","intersectsWith","createElement","range","class","style","backgroundColor","borderTop","borderBottom","borderLeft","borderRight"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport { Behavior } from '../Model';\nimport { getActiveSelectedRange } from '../Functions/getActiveSelectedRange';\nimport { tryAppendChange } from '../Functions';\nimport { getCompatibleCellAndTemplate } from '../Functions/getCompatibleCellAndTemplate';\nimport { newLocation } from '../Functions/newLocation';\nimport { PartialArea } from '../Components/PartialArea';\nvar FillHandleBehavior = (function (_super) {\n    __extends(FillHandleBehavior, _super);\n    function FillHandleBehavior() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.fillDirection = '';\n        return _this;\n    }\n    FillHandleBehavior.prototype.handlePointerEnter = function (event, location, state) {\n        var selectedRange = getActiveSelectedRange(state);\n        this.fillDirection = this.getFillDirection(selectedRange, location);\n        this.fillRange = this.getFillRange(state.cellMatrix, selectedRange, location, this.fillDirection);\n        return __assign({}, state);\n    };\n    FillHandleBehavior.prototype.getFillDirection = function (selectedRange, pointerLocation) {\n        var differences = [];\n        differences.push({ direction: '', value: 0 });\n        differences.push({\n            direction: 'up',\n            value: pointerLocation.row.idx < selectedRange.first.row.idx ? selectedRange.first.row.idx - pointerLocation.row.idx : 0\n        });\n        differences.push({\n            direction: 'down',\n            value: pointerLocation.row.idx > selectedRange.last.row.idx ? pointerLocation.row.idx - selectedRange.last.row.idx : 0\n        });\n        differences.push({\n            direction: 'left',\n            value: pointerLocation.column.idx < selectedRange.first.column.idx ? selectedRange.first.column.idx - pointerLocation.column.idx : 0\n        });\n        differences.push({\n            direction: 'right',\n            value: pointerLocation.column.idx > selectedRange.last.column.idx ? pointerLocation.column.idx - selectedRange.last.column.idx : 0\n        });\n        return differences.reduce(function (prev, current) { return (prev.value >= current.value ? prev : current); }).direction;\n    };\n    FillHandleBehavior.prototype.getFillRange = function (cellMatrix, selectedRange, location, fillDirection) {\n        switch (fillDirection) {\n            case 'right':\n                return cellMatrix.getRange(cellMatrix.getLocation(selectedRange.first.row.idx, cellMatrix.last.column.idx < selectedRange.last.column.idx + 1 ?\n                    cellMatrix.last.column.idx :\n                    selectedRange.last.column.idx + 1), newLocation(selectedRange.last.row, location.column));\n            case 'left':\n                return cellMatrix.getRange(newLocation(selectedRange.first.row, location.column), cellMatrix.getLocation(selectedRange.last.row.idx, cellMatrix.first.column.idx > selectedRange.first.column.idx - 1 ?\n                    cellMatrix.first.column.idx :\n                    selectedRange.first.column.idx - 1));\n            case 'up':\n                return cellMatrix.getRange(newLocation(location.row, selectedRange.first.column), cellMatrix.getLocation(cellMatrix.first.row.idx > selectedRange.first.row.idx - 1 ?\n                    cellMatrix.first.row.idx :\n                    selectedRange.first.row.idx - 1, selectedRange.last.column.idx));\n            case 'down':\n                return cellMatrix.getRange(cellMatrix.getLocation(cellMatrix.last.row.idx < selectedRange.last.row.idx + 1 ?\n                    cellMatrix.last.row.idx : selectedRange.last.row.idx + 1, selectedRange.first.column.idx), newLocation(location.row, selectedRange.last.column));\n        }\n        return undefined;\n    };\n    FillHandleBehavior.prototype.handlePointerUp = function (event, location, state) {\n        var activeSelectedRange = getActiveSelectedRange(state);\n        var cellMatrix = state.cellMatrix;\n        var values;\n        if (!activeSelectedRange || this.fillRange === undefined) {\n            return state;\n        }\n        this.fillRange = state.cellMatrix.validateRange(this.fillRange);\n        var getCompatibleCell = function (location) { return getCompatibleCellAndTemplate(state, location).cell; };\n        switch (this.fillDirection) {\n            case 'right':\n                values = activeSelectedRange.rows.map(function (row) { return getCompatibleCell(newLocation(row, activeSelectedRange.last.column)); });\n                state = this.fillRows(state, values);\n                state = __assign({}, state, { selectedRanges: [cellMatrix.getRange(activeSelectedRange.first, newLocation(activeSelectedRange.last.row, location.column))], selectedIds: activeSelectedRange.columns.map(function (col) { return col.columnId; }).concat(this.fillRange.columns.map(function (col) { return col.columnId; })) });\n                break;\n            case 'left':\n                values = activeSelectedRange.rows.map(function (row) { return getCompatibleCell(newLocation(row, activeSelectedRange.last.column)); });\n                state = this.fillRows(state, values);\n                state = __assign({}, state, { selectedRanges: [cellMatrix.getRange(activeSelectedRange.last, newLocation(activeSelectedRange.first.row, location.column))], selectedIds: activeSelectedRange.columns.map(function (col) { return col.columnId; }).concat(this.fillRange.columns.map(function (col) { return col.columnId; })) });\n                break;\n            case 'up':\n                values = activeSelectedRange.columns.map(function (column) { return getCompatibleCell(newLocation(activeSelectedRange.last.row, column)); });\n                state = this.fillColumns(state, values);\n                state = __assign({}, state, { selectedRanges: [cellMatrix.getRange(activeSelectedRange.last, { row: location.row, column: activeSelectedRange.first.column })], selectedIds: activeSelectedRange.rows.map(function (row) { return row.rowId; }).concat(this.fillRange.rows.map(function (row) { return row.rowId; })) });\n                break;\n            case 'down':\n                values = activeSelectedRange.columns.map(function (column) { return getCompatibleCell(newLocation(activeSelectedRange.last.row, column)); });\n                state = this.fillColumns(state, values);\n                state = __assign({}, state, { selectedRanges: [cellMatrix.getRange(activeSelectedRange.first, newLocation(location.row, activeSelectedRange.last.column))], selectedIds: activeSelectedRange.rows.map(function (row) { return row.rowId; }).concat(this.fillRange.rows.map(function (row) { return row.rowId; })) });\n                break;\n        }\n        return state;\n    };\n    FillHandleBehavior.prototype.fillRows = function (state, values) {\n        var _this = this;\n        this.fillRange &&\n            this.fillRange.rows.forEach(function (row, i) {\n                return _this.fillRange.columns.forEach(function (col) {\n                    state = tryAppendChange(state, newLocation(row, col), values[i]);\n                });\n            });\n        return state;\n    };\n    FillHandleBehavior.prototype.fillColumns = function (state, values) {\n        var _this = this;\n        this.fillRange &&\n            this.fillRange.rows.forEach(function (row) {\n                return _this.fillRange.columns.forEach(function (col, i) {\n                    state = tryAppendChange(state, newLocation(row, col), values[i]);\n                });\n            });\n        return state;\n    };\n    FillHandleBehavior.prototype.renderPanePart = function (state, pane) {\n        return this.fillDirection && this.fillRange && pane.intersectsWith(this.fillRange) &&\n            React.createElement(PartialArea, { range: state.cellMatrix.validateRange(this.fillRange), class: \"rg-partial-area-part\", pane: pane, style: {\n                    backgroundColor: '',\n                    borderTop: this.fillDirection === 'down' ? '0px solid transparent' : '',\n                    borderBottom: this.fillDirection === 'up' ? '0px solid transparent' : '',\n                    borderLeft: this.fillDirection === 'right' ? '0px solid transparent' : '',\n                    borderRight: this.fillDirection === 'left' ? '0px solid transparent' : ''\n                } });\n    };\n    return FillHandleBehavior;\n}(Behavior));\nexport { FillHandleBehavior };\n"]},"metadata":{},"sourceType":"module"}